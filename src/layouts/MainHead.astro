---
import Seo from "~/components/seo/Seo.astro";
import { SITE } from "~/config.mjs";
import Fonts from "~/components/common/Fonts.astro";
import PlausibleAnalytics from "~/components/PlausibleAnalytics.astro";

const { src = "/favicon.ico" } = Astro.props;

const {
  title = SITE.name,
  description = "",
  image: defaultImage = SITE.defaultImage,
  canonical,
} = Astro.props;

const image =
  typeof defaultImage === "string"
    ? defaultImage
    : defaultImage?.src ?? defaultImage?.href;
---

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href={src} />

  <Seo
    title={title}
    description={description}
    url={canonical || Astro.url}
    image={{
      src: image,
      alt: title,
    }}
  />

  <Fonts />

  <PlausibleAnalytics domain={SITE.domain} />

  {
    /* 
      If you want to add custom JS or CSS, you can do so here.
      Note that this will be injected into the <head> of your page.
    */
  }
</head>
